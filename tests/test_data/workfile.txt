GET /v1/teams HTTP/1.1

{
  "teams": [
    {
      "name": "docs",
      "privacy": "open",
      "description": "esa.io official documents",
      "icon": "https://img.esa.io/uploads/production/teams/105/icon/thumb_m_0537ab827c4b0c18b60af6cdd94f239c.png",
      "url": "https://docs.esa.io/"
    }
  ],
  "prev_page": null,
  "next_page": null,
  "total_count": 1,
  "page": 1,
  "per_page": 20,
  "max_per_page": 100
}

-------------------------------------------------------
GET /v1/teams/docs HTTP/1.1

{
  "name": "docs",
  "privacy": "open",
  "description": "esa.io official documents",
  "icon": "https://img.esa.io/uploads/production/teams/105/icon/thumb_m_0537ab827c4b0c18b60af6cdd94f239c.png",
  "url": "https://docs.esa.io/"
}

-------------------------------------------------------
GET /v1/teams/docs/stats HTTP/1.1

{
  "members": 20,
  "posts": 1959,
  "posts_wip": 59,
  "posts_shipped": 1900,
  "comments": 2695,
  "stars": 3115,
  "daily_active_users": 8,
  "weekly_active_users": 14,
  "monthly_active_users": 15
}

-------------------------------------------------------
GET /v1/teams/docs/members HTTP/1.1

{
  "members": [
    {
      "myself": true,
      "name": "Atsuo Fukaya",
      "screen_name": "fukayatsu",
      "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png",
      "role": "owner",
      "posts_count": 222,
      "joined_at": "2014-07-01T08:10:55+09:00",
      "last_accessed_at": "2019-12-27T16:23:23+09:00",
      "email": "fukayatsu@esa.io",
    },
    {
      "myself": false,
      "name": "TAEKO AKATSUKA",
      "screen_name": "taea",
      "icon": "https://img.esa.io/uploads/production/users/2/icon/thumb_m_2690997f07b7de3014a36d90827603d6.jpg",
      "role": "owner",
      "posts_count": 111,
      "joined_at": "2014-07-01T08:19:26+09:00",
      "last_accessed_at": "2019-08-13T18:07:24+09:00",
      "email": "taea@esa.io",
    }
  ],
  "prev_page": null,
  "next_page": null,
  "total_count": 2,
  "page": 1,
  "per_page": 20,
  "max_per_page": 100
}

-------------------------------------------------------
DELETE /v1/teams/docs/members/alice HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
GET /v1/teams/docs/posts HTTP/1.1

{
  "posts": [
    {
      "number": 1,
      "name": "hi!",
      "full_name": "日報/2015/05/09/hi! #api #dev",
      "wip": true,
      "body_md": "# Getting Started",
      "body_html": "&lt;h1 id=\"1-0-0\" name=\"1-0-0\"&gt;\n&lt;a class=\"anchor\" href=\"#1-0-0\"&gt;&lt;i class=\"fa fa-link\"&gt;&lt;/i&gt;&lt;span class=\"hidden\" data-text=\"Getting Started\"&gt; &amp;gt; Getting Started&lt;/span&gt;&lt;/a&gt;Getting Started&lt;/h1&gt;\n",
      "created_at": "2015-05-09T11:54:50+09:00",
      "message": "Add Getting Started section",
      "url": "https://docs.esa.io/posts/1",
      "updated_at": "2015-05-09T11:54:51+09:00",
      "tags": [
        "api",
        "dev"
      ],
      "category": "日報/2015/05/09",
      "revision_number": 1,
      "created_by": {
        "myself": true,
        "name": "Atsuo Fukaya",
        "screen_name": "fukayatsu",
        "icon": "http://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
      },
      "updated_by": {
        "myself": true,
        "name": "Atsuo Fukaya",
        "screen_name": "fukayatsu",
        "icon": "http://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
      }
    }
  ],
  "prev_page": null,
  "next_page": null,
  "total_count": 1,
  "page": 1,
  "per_page": 20,
  "max_per_page": 100
}

-------------------------------------------------------
GET /v1/teams/docs/posts/1 HTTP/1.1

{
  "number": 1,
  "name": "hi!",
  "full_name": "日報/2015/05/09/hi! #api #dev",
  "wip": true,
  "body_md": "# Getting Started",
  "body_html": "&lt;h1 id=\"1-0-0\" name=\"1-0-0\"&gt;\n&lt;a class=\"anchor\" href=\"#1-0-0\"&gt;&lt;i class=\"fa fa-link\"&gt;&lt;/i&gt;&lt;span class=\"hidden\" data-text=\"Getting Started\"&gt; &amp;gt; Getting Started&lt;/span&gt;&lt;/a&gt;Getting Started&lt;/h1&gt;\n",
  "created_at": "2015-05-09T11:54:50+09:00",
  "message": "Add Getting Started section",
  "url": "https://docs.esa.io/posts/1",
  "updated_at": "2015-05-09T11:54:51+09:00",
  "tags": [
    "api",
    "dev"
  ],
  "category": "日報/2015/05/09",
  "revision_number": 1,
  "created_by": {
    "myself": true,
    "name": "Atsuo Fukaya",
    "screen_name": "fukayatsu",
    "icon": "http://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
  },
  "updated_by": {
    "myself": true,
    "name": "Atsuo Fukaya",
    "screen_name": "fukayatsu",
    "icon": "http://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
  },
  "kind": "flow",
  "comments_count": 1,
  "tasks_count": 1,
  "done_tasks_count": 1,
  "stargazers_count": 1,
  "watchers_count": 1,
  "star": true,
  "watch": true
}

-------------------------------------------------------
POST /v1/teams/docs/posts HTTP/1.1
Content-Type: application/json

{
   "post":{
      "name":"hi!",
      "body_md":"# Getting Started\n",
      "tags":[
         "api",
         "dev"
      ],
      "category":"dev/2015/05/10",
      "wip":false,
      "message":"Add Getting Started section"
   }
}

HTTP/1.1 201 Created
Content-Type: application/json

{
  "number": 5,
  "name": "hi!",
  "full_name": "dev/2015/05/10/hi! #api #dev",
  "wip": false,
  "body_md": "# Getting Started\n",
  "body_html": "&lt;h1 id=\"1-0-0\" name=\"1-0-0\"&gt;\n&lt;a class=\"anchor\" href=\"#1-0-0\"&gt;&lt;i class=\"fa fa-link\"&gt;&lt;/i&gt;&lt;span class=\"hidden\" data-text=\"Getting Started\"&gt; &amp;gt; Getting Started&lt;/span&gt;&lt;/a&gt;Getting Started&lt;/h1&gt;\n",
  "created_at": "2015-05-09T12:12:37+09:00",
  "message": "Add Getting Started section",
  "url": "https://docs.esa.io/posts/5",
  "updated_at": "2015-05-09T12:12:37+09:00",
  "tags": [
    "api",
    "dev"
  ],
  "category": "dev/2015/05/10",
  "revision_number": 1,
  "created_by": {
    "myself": true,
    "name": "Atsuo Fukaya",
    "screen_name": "fukayatsu",
    "icon": "http://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
  },
  "updated_by": {
    "myself": true,
    "name": "Atsuo Fukaya",
    "screen_name": "fukayatsu",
    "icon": "http://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
  },
  "kind": "flow",
  "comments_count": 0,
  "tasks_count": 0,
  "done_tasks_count": 0,
  "stargazers_count": 0,
  "watchers_count": 1,
  "star": false,
  "watch": false
}

-------------------------------------------------------
PATCH /v1/teams/docs/posts/5 HTTP/1.1
Content-Type: application/json

{
   "post":{
      "name":"hi!",
      "body_md":"# Getting Started\n",
      "tags":[
         "api",
         "dev"
      ],
      "category":"dev/2015/05/10",
      "wip":false,
      "message":"Add Getting Started section",
      "original_revision": {
          "body_md": "# Getting ...",
          "number":1,
          "user": "fukayatsu"
        }
    }
}

HTTP/1.1 200 OK
Content-Type: application/json

{
  "number": 5,
  "name": "hi!",
  "full_name": "日報/2015/05/10/hi! #api #dev",
  "wip": false,
  "body_md": "# Getting Started\n",
  "body_html": "&lt;h1 id=\"1-0-0\" name=\"1-0-0\"&gt;\n&lt;a class=\"anchor\" href=\"#1-0-0\"&gt;&lt;i class=\"fa fa-link\"&gt;&lt;/i&gt;&lt;span class=\"hidden\" data-text=\"Getting Started\"&gt; &amp;gt; Getting Started&lt;/span&gt;&lt;/a&gt;Getting Started&lt;/h1&gt;\n",
  "created_at": "2015-05-09T12:12:37+09:00",
  "message": "Add Getting Started section",
  "url": "https://docs.esa.io/posts/5",
  "updated_at": "2015-05-09T12:19:48+09:00",
  "tags": [
    "api",
    "dev"
  ],
  "category": "日報/2015/05/10",
  "revision_number": 2,
  "created_by": {
    "myself": true,
    "name": "Atsuo Fukaya",
    "screen_name": "fukayatsu",
    "icon": "http://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
  },
  "updated_by": {
    "myself": true,
    "name": "Atsuo Fukaya",
    "screen_name": "fukayatsu",
    "icon": "http://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
  },
  "overlapped": false,
  "kind": "flow",
  "comments_count": 0,
  "tasks_count": 0,
  "done_tasks_count": 0,
  "stargazers_count": 0,
  "watchers_count": 1,
  "star": false,
  "watch": false
}

-------------------------------------------------------
DELETE /v1/teams/docs/posts/5 HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
GET /v1/teams/docs/posts/2/comments HTTP/1.1

{
  "comments": [
    {
      "id": 1,
      "body_md": "(大事)",
      "body_html": "&lt;p&gt;(大事)&lt;/p&gt;",
      "created_at": "2014-05-10T12:45:42+09:00",
      "updated_at": "2014-05-18T23:02:29+09:00",
      "url": "https://docs.esa.io/posts/2#comment-1",
      "created_by": {
        "myself": true,
        "name": "Atsuo Fukaya",
        "screen_name": "fukayatsu",
        "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
      },
      "stargazers_count": 0,
      "star": false
    }
  ],
  "prev_page": null,
  "next_page": null,
  "total_count": 1,
  "page": 1,
  "per_page": 20,
  "max_per_page": 100
}

-------------------------------------------------------
GET /v1/teams/docs/comments/13 HTTP/1.1

{
  "id": 13,
  "body_md": "読みたい",
  "body_html": "&lt;p&gt;読みたい&lt;/p&gt;",
  "created_at": "2014-05-13T16:17:42+09:00",
  "updated_at": "2014-05-18T23:02:29+09:00",
  "url": "https://docs.esa.io/posts/13#comment-13",
  "created_by": {
    "myself": false,
    "name": "TAEKO AKATSUKA",
    "screen_name": "taea",
    "icon": "https://img.esa.io/uploads/production/users/2/icon/thumb_m_2690997f07b7de3014a36d90827603d6.jpg"
  },
  "stargazers_count": 0,
  "star": false
}

-------------------------------------------------------
POST /v1/teams/docs/posts/2/comments HTTP/1.1
Content-Type: application/json

{"comment":{"body_md":"LGTM!"}}

HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": 22767,
  "body_md": "LGTM!",
  "body_html": "&lt;p&gt;LGTM!&lt;/p&gt;\n",
  "created_at": "2015-06-21T19:36:20+09:00",
  "updated_at": "2015-06-21T19:36:20+09:00",
  "url": "https://docs.esa.io/posts/2#comment-22767",
  "created_by": {
    "myself": true,
    "name": "Atsuo Fukaya",
    "screen_name": "fukayatsu",
    "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
  },
  "stargazers_count": 0,
  "star": false
}

-------------------------------------------------------
PATCH /v1/teams/docs/comments/22767 HTTP/1.1
Content-Type: application/json

{"comment":{"body_md":"LGTM!!!"}}

HTTP/1.1 200 OK
Content-Type: application/json

{
  "id": 22767,
  "body_md": "LGTM! :sushi:",
  "body_html": "&lt;p&gt;LGTM!!!&lt;/p&gt;\n",
  "created_at": "2015-06-21T19:36:20+09:00",
  "updated_at": "2015-06-21T19:40:33+09:00",
  "url": "https://docs.esa.io/posts/2#comment-22767",
  "created_by": {
    "myself": true,
    "name": "Atsuo Fukaya",
    "screen_name": "fukayatsu",
    "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
  },
  "stargazers_count": 0,
  "star": false
}

-------------------------------------------------------
DELETE /v1/teams/docs/comments/22767 HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
GET /v1/teams/docs/comments HTTP/1.1

{
  "comments": [
    {
      "id": 1,
      "body_md": "(大事)",
      "body_html": "&lt;p&gt;(大事)&lt;/p&gt;",
      "created_at": "2014-05-10T12:45:42+09:00",
      "updated_at": "2014-05-18T23:02:29+09:00",
      "url": "https://docs.esa.io/posts/2#comment-1",
      "created_by": {
        "myself": true,
        "name": "Atsuo Fukaya",
        "screen_name": "fukayatsu",
        "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
      },
      "stargazers_count": 0,
      "star": false
    }
  ],
  "prev_page": null,
  "next_page": null,
  "total_count": 1,
  "page": 1,
  "per_page": 20,
  "max_per_page": 100
}

-------------------------------------------------------
GET /v1/teams/docs/posts/2312/stargazers HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
  "stargazers": [
    {
      "created_at": "2016-05-05T11:40:54+09:00",
      "body": null,
      "user": {
        "myself": true,
        "name": "Atsuo Fukaya",
        "screen_name": "fukayatsu",
        "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
      }
    }
  ],
  "prev_page": null,
  "next_page": null,
  "total_count": 1,
  "page": 1,
  "per_page": 20,
  "max_per_page": 100
}

-------------------------------------------------------
POST /v1/teams/docs/posts/2312/star HTTP/1.1

{"body":"foo bar"}

-------------------------------------------------------
DELETE /v1/teams/docs/posts/2312/star HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
GET /v1/teams/docs/comments/123/stargazers HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
  "stargazers": [
    {
      "created_at": "2016-05-05T11:40:54+09:00",
      "body": null,
      "user": {
        "myself": true,
        "name": "Atsuo Fukaya",
        "screen_name": "fukayatsu",
        "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
      }
    }
  ],
  "prev_page": null,
  "next_page": null,
  "total_count": 1,
  "page": 1,
  "per_page": 20,
  "max_per_page": 100
}

-------------------------------------------------------
POST /v1/teams/docs/comments/123/star HTTP/1.1

{"body":"foo bar"}

-------------------------------------------------------
DELETE /v1/teams/docs/comments/123/star HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
GET /v1/teams/docs/posts/2312/watchers HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
  "watchers": [
    {
      "created_at": "2016-05-05T11:40:53+09:00",
      "user": {
        "myself": true,
        "name": "Atsuo Fukaya",
        "screen_name": "fukayatsu",
        "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png"
      }
    }
  ],
  "prev_page": null,
  "next_page": null,
  "total_count": 1,
  "page": 1,
  "per_page": 20,
  "max_per_page": 100
}

-------------------------------------------------------
POST /v1/teams/docs/posts/2312/watch HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
DELETE /v1/teams/docs/posts/2312/watch HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
POST /v1/teams/docs/categories/batch_move HTTP/1.1

{
  "from": "/foo/bar/",
  "to": "/baz/"
}

HTTP/1.1 200 OK

{
  "count": 3,
  "from": "/foo/bar/",
  "to": "/baz/"
}

-------------------------------------------------------
GET /v1/teams/docs/invitation HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
  "url": "https://docs.esa.io/team/invitations/member-c05d112fa34870998ab4da1e98846ae3"
}

-------------------------------------------------------
POST /v1/teams/docs/invitation_regenerator HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
  "url": "https://docs.esa.io/team/invitations/member-58891f72edcbb8ac22f1e5548b0128d9"
}

-------------------------------------------------------
POST /v1/teams/:team_name/invitations HTTP/1.1
Content-Type: application/json

{
  "member": {
    "emails": ["foo@example.com", "bar@example.com"]
}

HTTP/1.1 201 Created
Content-Type: application/json

{
    "invitations": [
        {
            "email": "foo@example.com",
            "code": "mee93383edf699b525e01842d34078e28",
            "expires_at": "2017-08-17T12:00:41+09:00",
            "url": "https://docs.esa.io/team/invitations/mee93383edf699b525e01842d34078e28/join"
        },
        {
            "email": "bar@example.com",
            "code": "m934f1f60732f49d50ee5b3f96841ff13",
            "expires_at": "2017-08-17T12:00:41+09:00",
            "url": "https://docs.esa.io/team/invitations/m934f1f60732f49d50ee5b3f96841ff13/join"
        }
    ]
}

-------------------------------------------------------
GET /v1/teams/:team_name/invitations HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
    "invitations": [
        {
            "email": "foo@example.com",
            "code": "mee93383edf699b525e01842d34078e28",
            "expires_at": "2017-08-17T12:00:41+09:00",
            "url": "https://docs.esa.io/team/invitations/mee93383edf699b525e01842d34078e28/join"
        },
        {
            "email": "bar@example.com",
            "code": "mc542eed211a8e4f1db6ccccb14fcda9d",
            "expires_at": "2017-08-17T12:00:44+09:00",
            "url": "https://docs.esa.io/team/invitations/mc542eed211a8e4f1db6ccccb14fcda9d/join"
        }
    ],
    "prev_page": null,
    "next_page": null,
    "total_count": 2,
    "page": 1,
    "per_page": 20,
    "max_per_page": 100
}

-------------------------------------------------------
DELETE /v1/teams/:team_name/invitations/mee93383edf699b525e01842d34078e28 HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
GET /v1/teams/docs/emojis HTTP/1.1

HTTP/1.1 200 OK
Content-Type: application/json

{
  "emojis": [
    {
      "code": "grinning",
      "aliases": [
         "grinning"
      ],
      "url": "https://assets.esa.io/images/emoji/unicode/1f600.png"
    },
    {
      "code": "smiley",
      "aliases": [
         "smiley"
      ],
      "url": "https://assets.esa.io/images/emoji/unicode/1f603.png"
    }
  ]
 // ...省略...
}

-------------------------------------------------------
POST /v1/teams/docs/emojis HTTP/1.1
Content-Type: application/json

{
  "emoji": {
    "code": "team_emoji",
    "image": "..." // BASE64 String
  }
}

HTTP/1.1 201 Created

{
  "code": "team_emoji"
}

-------------------------------------------------------
DELETE /v1/teams/docs/emojis/team_emoji HTTP/1.1

HTTP/1.1 204 No Content

-------------------------------------------------------
GET /v1/user HTTP/1.1
Content-Type: application/json

HTTP/1.1 200 OK
Content-Type: application/json

{
  "id": 1,
  "name": "Atsuo Fukaya",
  "screen_name": "fukayatsu",
  "created_at": "2014-05-10T11:50:07+09:00",
  "updated_at": "2016-04-17T12:35:16+09:00",
  "icon": "https://img.esa.io/uploads/production/users/1/icon/thumb_m_402685a258cf2a33c1d6c13a89adec92.png",
  "email": "fukayatsu@esa.io"
}
